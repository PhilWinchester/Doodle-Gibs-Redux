<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<script type="text/javascript" src="http://www.pureexample.com/js/lib/jquery.ui.touch-punch.min.js"></script>


<!-- CSS -->
<style type="text/css">
    .square {
        width: 100px;
        height: 100px;
        border: 1px solid black;
        margin-bottom: 5px;
        margin-left: 5px;
        text-align: center;
        line-height: 50px;
        float: left;
        background-color: lightblue;
    }
    .squaredotted {
        width: 200px;
        height: 200px;
        border: 1px dotted gray;
        margin-bottom: 5px;
        margin-left: 5px;
        text-align: center;
        line-height: 50px;
        float: left;
        background-color: lightgray;
    }
</style>

<!-- Javascript -->
<script>
  $(function () {
    var cloneable = false;
    $(".square").draggable({
      helper: "clone",
      grid: [50,20]
    });
    $(".squaredotted").droppable({
      drop: function() {
        $("#info").html("dropped!");
      },
      over: function() {
        $("#info").html("moving in!");
      },
      out: function() {
        $("#info").html("moving out!");
      }
      });
    $(".square").eq(0).on("mouseup",function() {
      if (cloneable) {
        var $clone = $(".square").eq(0).clone().appendTo("body");
          $clone.attr("class","square").draggable();
      }
    });
    $("input").on("click",function(){
      if (cloneable) {
        cloneable = false;
      } else {
        cloneable = true;
      }
    });
});
</script>

<!-- HTML -->
<div></div>
<input type="button" name="replace" value="replace">
<div style="float:left">
    <div class="square">Drag me</div>
</div>
<div style="float:left;margin-left:50px;">
    <div class="squaredotted">Drop here</div>
        <div id="info"></div>
</div>
